{"version":3,"file":"static/js/924.ef33e708.chunk.js","mappings":"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","sources":["components/CommandTextField.tsx","components/GamepadModal.tsx"],"sourcesContent":["import { TextField } from \"@mui/material\";\nimport { GamepadMap, KeyboardMap, KeyboardKey, CtrlKey } from \"../nes/utils/commons\";\n\ninterface CommandTextFieldProps {\n  ctrlKey: CtrlKey;\n  controller: 'keyboard' | 'gamepad';\n  defaultValue: string | number;\n  controllerMap: KeyboardMap | GamepadMap;\n}\n\nconst CommandTextField: React.FC<CommandTextFieldProps> = (props) => {\n  const { ctrlKey, controller, controllerMap, defaultValue } = props;\n\n  const updateConfig = (buttonId: CtrlKey) => (env: React.FocusEvent<HTMLInputElement>) => {\n    if (controller === 'gamepad') {\n      controllerMap[buttonId] = parseInt(env.target.value);\n      localStorage.setItem('gamepad-map', JSON.stringify(controllerMap));\n    } else {\n      controllerMap[buttonId] = (env.target.value as string) as KeyboardKey;\n      localStorage.setItem('keyboard-map', JSON.stringify(controllerMap));\n    }\n  }\n\n  const onInput = (env: React.FocusEvent<HTMLInputElement>) => {\n    env.target.value = (env.target.value as string).toUpperCase();\n  }\n\n  return (\n    <TextField size=\"small\" type={controller === 'keyboard' ? 'text' : 'number'} defaultValue={defaultValue}\n      onChange={updateConfig(ctrlKey)} onInput={onInput} style={{ maxWidth: '5vw' }}\n      slotProps={{ htmlInput: { maxLength: 1, minLength: 1, style: { paddingTop: '3px', paddingBottom: '3px' } } }}\n    />\n  );\n}\n\nexport default CommandTextField;","import { TableContainer, Table, TableHead, TableRow, TableCell, TableBody, Box, Grid } from '@mui/material';\nimport { GamepadMap } from '../nes/utils/commons';\nimport { useEffect, useRef, useState } from 'react';\nimport '../App.css';\nimport { ArrowBack, ArrowUpward, ArrowForward, ArrowDownward } from '@mui/icons-material';\nimport CommandTextField from './CommandTextField';\n\n\n/**\n * Called only when Gamepad has been detected.\n * @returns\n */\nconst GamepadModal = () => {\n\n  let gamepadMap: GamepadMap = JSON.parse(localStorage.getItem('gamepad-map'));\n\n  const [buttonsStats, setButtonsStats] = useState(navigator.getGamepads()[0].buttons.map(button => button.pressed));\n  const intervalRef = useRef(undefined as NodeJS.Timer | undefined);\n\n  useEffect(() => {\n\n    intervalRef.current = setInterval(() => {\n      setButtonsStats(navigator.getGamepads()[0].buttons.map(button => button.pressed));\n    });\n\n    return () =>  {\n      clearInterval(intervalRef.current);\n    };\n  })\n\n  return (\n    <>\n      <Grid container spacing={1} direction=\"column\">\n        <Grid container direction=\"row\">\n        <Box component=\"p\">\n          <Box component=\"span\" sx={{ fontSize: '1.17em', fontWeight: 'bold', padding: '0 10px'}}>Gamepad Configuration</Box>\n          <Box component=\"span\">*A page reload is necessary after configuration.</Box>\n        </Box>\n        </Grid>\n        <Grid container direction=\"row\">\n          <Box>\n            <Box>\n              <Box component=\"span\" sx={{ padding: '0 10px' }}>Gamepad Buttons Test</Box>\n            </Box>\n            <Box display=\"flex\">\n              {buttonsStats.map((pressed, id) =>\n                  <Box key={id} className={'circle' + (pressed ? ' circle-pressed' : '')}>{id}</Box>\n              )}\n            </Box>\n          </Box>\n        </Grid>\n        <Grid container>\n          <TableContainer>\n            <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"right\" size=\"small\">Buttons</TableCell>\n                  <TableCell align=\"right\" size=\"small\">Assigned buttons (Numeric)</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                  <TableRow>\n                    <TableCell align=\"right\" size=\"small\">A</TableCell>\n                    <TableCell align=\"right\" size=\"small\">\n                      <CommandTextField\n                          ctrlKey={'A'} controller={'gamepad'} defaultValue={gamepadMap.A} controllerMap={gamepadMap}\n                      />\n                    </TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell align=\"right\" size=\"small\">B</TableCell>\n                    <TableCell align=\"right\" size=\"small\">\n                      <CommandTextField\n                          ctrlKey={'B'} controller={'gamepad'} defaultValue={gamepadMap.B} controllerMap={gamepadMap}\n                      />\n                    </TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell align=\"right\" size=\"small\">SELECT</TableCell>\n                    <TableCell align=\"right\" size=\"small\">\n                      <CommandTextField\n                          ctrlKey={'SELECT'} controller={'gamepad'} defaultValue={gamepadMap.SELECT} controllerMap={gamepadMap}\n                      />\n                    </TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell align=\"right\" size=\"small\">START</TableCell>\n                    <TableCell align=\"right\" size=\"small\">\n                      <CommandTextField\n                          ctrlKey={'START'} controller={'gamepad'} defaultValue={gamepadMap.START} controllerMap={gamepadMap}\n                      />\n                    </TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell align=\"right\" size=\"small\"><ArrowBack fontSize='small'/></TableCell>\n                    <TableCell align=\"right\" size=\"small\"><ArrowBack fontSize='small'/></TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell align=\"right\" size=\"small\"><ArrowUpward fontSize='small'/></TableCell>\n                    <TableCell align=\"right\" size=\"small\"><ArrowUpward fontSize='small'/></TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell align=\"right\" size=\"small\"><ArrowForward fontSize='small'/></TableCell>\n                    <TableCell align=\"right\" size=\"small\"><ArrowForward fontSize='small'/></TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell align=\"right\" size=\"small\"><ArrowDownward fontSize='small'/></TableCell>\n                    <TableCell align=\"right\" size=\"small\"><ArrowDownward fontSize='small'/></TableCell>\n                  </TableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n\nexport default GamepadModal;"],"names":["props","ctrlKey","controller","controllerMap","defaultValue","_jsx","TextField","size","type","onChange","buttonId","env","parseInt","target","value","localStorage","setItem","JSON","stringify","onInput","toUpperCase","style","maxWidth","slotProps","htmlInput","maxLength","minLength","paddingTop","paddingBottom","GamepadModal","gamepadMap","parse","getItem","buttonsStats","setButtonsStats","useState","navigator","getGamepads","buttons","map","button","pressed","intervalRef","useRef","undefined","useEffect","current","setInterval","clearInterval","_Fragment","children","_jsxs","Grid","container","spacing","direction","Box","component","sx","fontSize","fontWeight","padding","display","id","className","TableContainer","Table","minWidth","TableHead","TableRow","TableCell","align","TableBody","CommandTextField","A","B","SELECT","START","ArrowBack","ArrowUpward","ArrowForward","ArrowDownward"],"ignoreList":[],"sourceRoot":""}